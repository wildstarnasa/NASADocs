<Forms>
    <Form Class="Window" LAnchorPoint="0.5" LAnchorOffset="-367" TAnchorPoint="0" TAnchorOffset="-1" RAnchorPoint="0.5" RAnchorOffset="367" BAnchorPoint="0" BAnchorOffset="111" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="ProtogamesMain" Border="0" Picture="1" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" TooltipColor="" IgnoreMouse="1" Tooltip="" Sprite="Warplots:spr_WarPlots_Base" NoClip="0" HideInEditor="0" Visible="0">
        <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-347" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="348" BAnchorPoint="0" BAnchorOffset="34" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Frame" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Frame" Tooltip=""/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="1" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="0" BAnchorOffset="50" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="RoomBarContainer" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Picture="0" IgnoreMouse="1" Sprite="" Tooltip="" NewControlDepth="1" UseParentOpacity="0" HideInEditor="0">
            <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-318" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="-139" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Room1" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Cell_Incomplete" NewControlDepth="1" NewWindowDepth="1" NoClip="0" Tooltip="" TooltipId=""/>
            <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-149" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="-102" BAnchorPoint="0" BAnchorOffset="49" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Room2" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Icon_BossInactive" NewControlDepth="1" NewWindowDepth="1" NoClip="0" Tooltip="" TooltipId="CreatureElitenessTitle_Boss"/>
            <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-114" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="65" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Room3" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Cell_Incomplete" NewControlDepth="1" NewWindowDepth="1" NoClip="0" Tooltip="" TooltipId=""/>
            <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="56" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="103" BAnchorPoint="0" BAnchorOffset="49" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Room4" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Icon_BossInactive" NewControlDepth="1" NewWindowDepth="1" NoClip="0" Tooltip="" TooltipId="CreatureElitenessTitle_Boss"/>
            <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="93" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="272" BAnchorPoint="0" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Room5" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Cell_Incomplete" NewControlDepth="1" NewWindowDepth="1" NoClip="0" Tooltip="" TooltipId=""/>
            <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="263" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="310" BAnchorPoint="0" BAnchorOffset="49" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="Room6" TooltipColor="" Picture="1" IgnoreMouse="1" Sprite="Protogames:spr_Protogames_Icon_BossInactive" NewControlDepth="1" NewWindowDepth="1" NoClip="0" Tooltip="" TooltipId="CreatureElitenessTitle_Boss"/>
        </Control>
        <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-54" TAnchorPoint="0" TAnchorOffset="36" RAnchorPoint="0.5" RAnchorOffset="54" BAnchorPoint="0" BAnchorOffset="73" RelativeToClient="1" Font="CRB_Header9" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloBodyCyan" Template="Default" TooltipType="OnCursor" Name="Window" TooltipColor="" TextId="Protogames_Room" DT_CENTER="1" DT_SINGLELINE="1"/>
        <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-121" TAnchorPoint="0" TAnchorOffset="36" RAnchorPoint="0.5" RAnchorOffset="-41" BAnchorPoint="0" BAnchorOffset="73" RelativeToClient="1" Font="CRB_Header9" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloBodyCyan" Template="Default" TooltipType="OnCursor" Name="Window1" TooltipColor="" TextId="Protogames_Bonus" DT_SINGLELINE="1" DT_VCENTER="0" DT_CENTER="1"/>
        <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="41" TAnchorPoint="0" TAnchorOffset="36" RAnchorPoint="0.5" RAnchorOffset="121" BAnchorPoint="0" BAnchorOffset="73" RelativeToClient="1" Font="CRB_Header9" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloBodyCyan" Template="Default" TooltipType="OnCursor" Name="Window2" TooltipColor="" TextId="PublicEventStats_Total" DT_VCENTER="0" DT_CENTER="1" DT_SINGLELINE="1"/>
        <Control Class="ProgressBar" Text="" LAnchorPoint="0.5" LAnchorOffset="-54" TAnchorPoint="0" TAnchorOffset="36" RAnchorPoint="0.5" RAnchorOffset="54" BAnchorPoint="0" BAnchorOffset="73" AutoSetText="0" UseValues="0" RelativeToClient="1" SetTextToProgress="0" DT_CENTER="1" DT_VCENTER="1" ProgressEmpty="" ProgressFull="Warplots:spr_WarPlots_CP3_BlueFill" TooltipType="OnCursor" Name="Room" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" BarColor="" ProgressFill="" BRtoLT="1" Picture="1" Sprite="Warplots:spr_WarPlots_CP3_Empty" Font="CRB_Header9" UsePercent="0" TooltipFont="CRB_InterfaceSmall" VerticallyAligned="1" Overlapped="0" IgnoreMouse="0" TextId="" DT_SINGLELINE="1"/>
        <Control Class="ProgressBar" Text="" LAnchorPoint="0.5" LAnchorOffset="-121" TAnchorPoint="0" TAnchorOffset="36" RAnchorPoint="0.5" RAnchorOffset="-41" BAnchorPoint="0" BAnchorOffset="73" AutoSetText="0" UseValues="0" RelativeToClient="1" SetTextToProgress="0" DT_CENTER="1" DT_VCENTER="1" ProgressEmpty="" ProgressFull="Warplots:spr_WarPlots_CP2_BlueFill" TooltipType="OnCursor" Name="Bonus" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" BarColor="" ProgressFill="" BRtoLT="1" Picture="1" Sprite="Warplots:spr_WarPlots_CP2_Empty" Font="CRB_Header9" UsePercent="0" TooltipFont="CRB_InterfaceSmall" VerticallyAligned="1" NewWindowDepth="0" TextId="" DT_SINGLELINE="1"/>
        <Control Class="ProgressBar" Text="" LAnchorPoint="0.5" LAnchorOffset="41" TAnchorPoint="0" TAnchorOffset="36" RAnchorPoint="0.5" RAnchorOffset="121" BAnchorPoint="0" BAnchorOffset="73" AutoSetText="0" UseValues="0" RelativeToClient="1" SetTextToProgress="0" DT_CENTER="1" DT_VCENTER="1" ProgressEmpty="" ProgressFull="Warplots:spr_WarPlots_CP4_BlueFill" TooltipType="OnCursor" Name="Total" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" BarColor="" ProgressFill="" BRtoLT="1" Picture="1" Sprite="Warplots:spr_WarPlots_CP4_Empty" Font="CRB_Header9" UsePercent="0" TooltipFont="CRB_InterfaceSmall" VerticallyAligned="1" TextId="" DT_SINGLELINE="1"/>
    </Form>
    <Form Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="150" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="0.75" BAnchorOffset="0" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="ProtogamesTallyContainer" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" TooltipColor="" Visible="0" IgnoreMouse="1"/>
    <Form Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="0" BAnchorOffset="36" RelativeToClient="1" Font="CRB_HeaderHuge_O" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloTitle" Template="Default" TooltipType="OnCursor" Name="ProtogamesTallyMessage" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" TooltipColor="" TextId="Challenges_NoProgress" DT_VCENTER="1" DT_CENTER="1" DT_SINGLELINE="1" Visible="1" TransitionShowHide="1" IgnoreMouse="1"/>
    <Form Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="80" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="0" BAnchorOffset="120" RelativeToClient="1" Font="CRB_HeaderGigantic_O" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_TextHoloTitle" Template="Default" TooltipType="OnCursor" Name="ProtogamesPlusPoints" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" TooltipColor="" TextId="Challenges_NoProgress" DT_VCENTER="1" DT_CENTER="1" DT_SINGLELINE="1" Visible="0" TransitionShowHide="1" IgnoreMouse="1" Tooltip=""/>
</Forms>
ketTextEntry"]:GetText()
	local strTextSubject = self.tWindowMap["PlayerTicketTextEntrySubject"]:GetText()

	local bEnable = nCategory ~= nil and nSubCategory ~= nil and strText ~= nil and strText ~= "" and strTextSubject ~= nil and strTextSubject ~= ""
	self.tWindowMap["OkBtn"]:Enable(bEnable)
	if bEnable then
		self.tWindowMap["OkBtn"]:SetActionData(GameLib.CodeEnumConfirmButtonType.SubmitSupportTicket, nCategory, nSubCategory, strTextSubject, strText)
	end

	if self.bIsBug ~= not self.tWindowMap["OkBtn"]:IsShown() then
		self.tWindowMap["OkBtn"]:Show(not self.bIsBug)
	end

	if self.bIsBug ~= self.tWindowMap["ConvertToBugBtn"]:IsShown() then
		self.tWindowMap["ConvertToBugBtn"]:Show(self.bIsBug)
	end
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnSupportTicketSubmitted(wndHandler, wndControl, eMouseButton)
	if self.bAddIgnore and self.strTarget then
		FriendshipLib.AddByName(FriendshipLib.CharacterFriendshipType_Ignore, self.strTarget) 
		Event_FireGenericEvent("GenericEvent_SystemChannel    úŸ Á ÂvÊ˝ H H@elString(Apollo.GetString("Social_AddedToIgnore"), self.strTarget))
		self.bAddIgnore = nil
		self.strTarget = nil
	end
	
	self:UpdateSubmitButton()
	self.tWindowMap["Main"]:Close()
end

----------------------------------------------------------------------------    úŸ ¬ ¿KÊ˝ H@†{Å
function PlayerTicketDialog:OnConvertToBugBtn(wndHandler, wndControl, eMouseButton)
	if self.bIsBug then
		local strText = self.tWindowMap["PlayerTicketTextEntry"]:GetText()
		local strText = self.tWindowMap["PlayerTicketTextEntrySubject"]:GetText()
		Event_FireGenericEvent("TicketToBugDialog", strText, strTextSubject)
		self.bIsBug = false
	end

	self:UpdateSubmitButton()
	self.tWindowMap["Main"]:Close()
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnCancelBtn(wndHandler, wndControl, eMouseButton)
	if wndHandler:GetId() ~= wndControl:GetId() then
		return
	end
	self.tWindowMap["Main"]:Show(false)
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnTextChanged()
	self:UpdateSubmitButton()
end

---------------------------------------------------------------------------------------------------
-- PlayerTicketDialog instance
-----------------------------------------------------------------------------------------------