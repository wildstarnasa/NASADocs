<Forms>
    <Form Class="Window" LAnchorPoint=".5" LAnchorOffset="-225" TAnchorPoint="0" TAnchorOffset="68" RAnchorPoint=".5" RAnchorOffset="225" BAnchorPoint="0" BAnchorOffset="419" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="ChallengeRewardPanelForm" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="1" Escapable="1" Overlapped="1" BGColor="white" TextColor="white" TextId="" TooltipColor="" Tooltip="">
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="Default" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTextDefault" Template="Default" TooltipType="OnCursor" Name="HoloFrame" TooltipColor="" Sprite="BK3:UI_BK3_Holo_Framing_1" Border="0" IgnoreMouse="1" Picture="1" NoClip="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="60" TAnchorPoint="1" TAnchorOffset="-193" RAnchorPoint="1" RAnchorOffset="-60" BAnchorPoint="1" BAnchorOffset="-54" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="BGArt" BGColor="white" TextColor="white" TextId="" Picture="1" IgnoreMouse="1" Sprite="" TooltipColor="" NewWindowDepth="1">
            <Event Name="MouseButtonDown" Function="OnClick"/>
            <Event Name="MouseButtonUp" Function="OnClick"/>
            <Pixie LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" BGColor="white" Font="Default" TextColor="white" Text="" Sprite="BK3:UI_BK3_Holo_InsetSimple" Line="0"/>
        </Control>
        <Control Class="Button" Base="BK3:btnHolo_Close" Font="Thick" ButtonType="PushButton" RadioGroup="" LAnchorPoint="1" LAnchorOffset="-79" TAnchorPoint="0" TAnchorOffset="37" RAnchorPoint="1" RAnchorOffset="-37" BAnchorPoint="0" BAnchorOffset="82" DT_VCENTER="1" DT_CENTER="1" Name="CloseButton" BGColor="white" TextColor="white" NewControlDepth="6" WindowSoundTemplate="CloseWindowPhys" Text="" TextId="" NormalTextColor="white" PressedTextColor="white" FlybyTextColor="white" PressedFlybyTextColor="white" DisabledTextColor="white" NoClip="1" TestAlpha="1" TooltipColor="">
            <Event Name="ButtonSignal" Function="OnCancel"/>
        </Control>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="60" TAnchorPoint="0" TAnchorOffset="80" RAnchorPoint="1" RAnchorOffset="-60" BAnchorPoint="0" BAnchorOffset="150" RelativeToClient="1" Font="CRB_InterfaceMedium" Text="" Template="Holo_TextCallout" Name="BodyText" BGColor="white" TextColor="UI_TextHoloBodyHighlight" TextId="CRB_Challenge_Reward_Title" DT_VCENTER="1" DT_CENTER="1" DT_WORDBREAK="1" HideInEditor="0" TooltipColor="" Border="1" IgnoreMouse="1" UseTemplateBG="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="60" TAnchorPoint="1" TAnchorOffset="-192" RAnchorPoint="1" RAnchorOffset="-60" BAnchorPoint="1" BAnchorOffset="-159" RelativeToClient="0" Font="Default" Text="" Template="CRB_Normal" Name="RarityList" BGColor="white" TextColor="white" VScroll="0" UseTemplateBG="0" Border="0" NewControlDepth="2" TextId="" IgnoreMouse="1" Picture="0" Sprite="WhiteFill" HideInEditor="0" TooltipColor="" NoClip="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="60" TAnchorPoint="1" TAnchorOffset="-154" RAnchorPoint="1" RAnchorOffset="-60" BAnchorPoint="1" BAnchorOffset="-64" RelativeToClient="0" Font="Default" Text="" Template="Defau" Name="ItemList" BGColor="white" TextColor="white" VScroll="0" UseTemplateBG="0" Border="0" NewControlDepth="2" TextId="" IgnoreMouse="1" Picture="0" Sprite="" HideInEditor="0" TooltipColor="" NoClip="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="100" TAnchorPoint="0" TAnchorOffset="43" RAnchorPoint="1" RAnchorOffset="-100" BAnchorPoint="0" BAnchorOffset="77" RelativeToClient="1" Font="CRB_HeaderMedium" Text="" BGColor="UI_WindowBGDefault" TextColor="UI_WindowTitleYellow" Template="Default" TooltipType="OnCursor" Name="Title" TooltipColor="" TextId="Challenge_ChallengeComplete" DT_VCENTER="1" DT_CENTER="1"/>
    </Form>
    <Form Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="6" RAnchorPoint="0" RAnchorOffset="80" BAnchorPoint="0" BAnchorOffset="89" RelativeToClient="0" Font="Default" Text="" Template="CRB_InnerWindow" Name="ChallengeItem" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" BGColor="white" TextColor="white" TextId="" HScroll="0" UseTemplateBG="0" TooltipColor="" IgnoreMouse="0">
        <Control Class="Button" Base="CRB_Basekit:kitBtn_Holo" Font="Thick" ButtonType="Check" RadioGroup="" LAnchorPoint="0" LAnchorOffset="9" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="-9" BAnchorPoint="1" BAnchorOffset="0" DT_VCENTER="1" DT_CENTER="1" Name="ChallengeItemBtn" BGColor="white" TextColor="white" NormalTextColor="white" PressedTextColor="white" FlybyTextColor="UI_BtnTextHoloFlyby" PressedFlybyTextColor="white" DisabledTextColor="UI_BtnTextHoloDisabled" NewWindowDepth="0" NoClip="0" HideInEditor="0" IgnoreMouse="0" RadioDisallowNonSelection="1" TooltipColor="" WindowSoundTemplate="HoloButtonLarge">
            <Event Name="ButtonCheck" Function="OnChallengeItemBtn"/>
            <Event Name="MouseEnter" Function="OnChallengeItemEnter"/>
            <Event Name="MouseExit" Function="OnChallengeItemExit"/>
        </Control>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="16" TAnchorPoint="0" TAnchorOffset="9" RAnchorPoint="1" RAnchorOffset="-16" BAnchorPoint="0" BAnchorOffset="57" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="Backer" BGColor="white" TextColor="white" Picture="1" IgnoreMouse="1" Sprite="BK3:UI_BK3_Holo_InsetSimple" Visible="0" HideInEditor="0" NewWindowDepth="1" TooltipColor=""/>
        <Control Name="LootIcon" Class="IconButton" ContentType="RewardChoice" ContentId="1" Base="Button_ActionBarBlank" Visible="1" LAnchorPoint="0" LAnchorOffset="19" TAnchorPoint="0" TAnchorOffset="12" RAnchorPoint="1" RAnchorOffset="-19" BAnchorPoint="0" BAnchorOffset="54" BGColor="white" TextColor="white" Sprite="" RelativeToClient="1" NewWindowDepth="1" IgnoreMouse="1" Text="" Picture="0" IgnoreTooltipDelay="1" TooltipType="OnCursor" TooltipColor="">
            <Event Name="GenerateTooltip" Function="OnGenerateTooltip"/>
        </Control>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="16" TAnchorPoint="0" TAnchorOffset="55" RAnchorPoint="1" RAnchorOffset="-15" BAnchorPoint="0" BAnchorOffset="78" RelativeToClient="1" Font="CRB_HeaderMedium" Text="2x" Template="Default" Name="2xMarker" BGColor="UI_WindowTitleGray" TextColor="UI_BtnTextRedNormal" TextId="" DT_VCENTER="1" DT_CENTER="1" Visible="1" HideInEditor="0" IgnoreMouse="1" NoClip="0" NewWindowDepth="1" TooltipColor=""/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="-1" TAnchorPoint="0" TAnchorOffset="-10" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="8" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="ItemFlash" BGColor="white" TextColor="white" Picture="1" IgnoreMouse="1" Sprite="" NoClip="1" NewWindowDepth="1" TooltipColor="" HideInEditor="0"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="19" TAnchorPoint="0" TAnchorOffset="12" RAnchorPoint="1" RAnchorOffset="-19" BAnchorPoint="0" BAnchorOffset="54" RelativeToClient="1" Font="Default" Text="" Template="Default" Name="LootIconBlocker" BGColor="white" TextColor="white" Picture="1" IgnoreMouse="1" Sprite="BlackFill" NewWindowDepth="1" NewControlDepth="15" TooltipColor="" HideInEditor="1">
            <Event Name="MouseButtonUp" Function="OnIconBlockerClick"/>
        </Control>
    </Form>
    <Form Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0" RAnchorOffset="305" BAnchorPoint="0" BAnchorOffset="136" RelativeToClient="0" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="TierLabelItem" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" BGColor="white" TextColor="white" TooltipColor="white" NoClip="1" Tooltip="" IgnoreTooltipDelay="1" TooltipFont="CRB_InterfaceSmall">
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="5" TAnchorPoint="0" TAnchorOffset="3" RAnchorPoint="1" RAnchorOffset="-5" BAnchorPoint="0" BAnchorOffset="40" RelativeToClient="1" Font="CRB_Header10" Text="" Template="Default" TooltipType="OnCursor" Name="TierWndLabel" BGColor="white" TextColor="UI_TextHoloTitle" TooltipColor="" DT_VCENTER="1" DT_CENTER="1" TextId="CRB_1" DT_WORDBREAK="1"/>
        <Pixie LAnchorPoint="0" LAnchorOffset="3" TAnchorPoint="0" TAnchorOffset="3" RAnchorPoint="1" RAnchorOffset="-3" BAnchorPoint="1" BAnchorOffset="-3" BGColor="white" Font="Default" TextColor="white" Text="" Sprite="BK3:UI_BK3_Holo_InsetHeaderThin" Line="0"/>
    </Form>
    <Form Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="0" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="TierDividerItem" Border="0" Picture="0" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="0" BGColor="white" TextColor="white" TooltipColor=""/>
</Forms>
 the window item created
	self.nItems = self.nItems+1

	if tRewards.itemReward then
		wndChallengeItem:FindChild("LootIcon"):SetItemInfo(tRewards.itemReward, tRewards.nAmount)
		wndChallengeItem:FindChild("ChallengeItemBtn"):SetData(tRewards.itemReward)
	elseif tRewards.monReward then
		wndChallengeItem:FindChild("LootIcon"):SetMoneyInfo(tRewards.monReward, tRewards.nAmount)
	elseif tRewards.splReward then
		wndChallengeItem:FindChild("LootIcon"):SetSpellInfo(tRewards.splReward)
	elseif tRewards.nXp then
		wndChallengeItem:FindChild("LootIcon"):SetXpInfo(tRewards.nXp)
	elseif tRewards.nRepId then
		wndChallengeItem:FindChild("LootIcon"):SetReputationInfo(tRewards.nRepId, tRewards.nRepAmount)
	end

	self.tTierCounts[tRewards.nChallengeTier] = self.tTierCounts[tRewards.nChallengeTier] + 1

	wndChallengeItem:FindChild("ChallengeItemBtn"):SetBGColor(CColor.new(1.0, 1.0, 1.0, 1.0))
	wndChallengeItem:FindChild("Backer"):SetBGColor(CColor.new(1.0, 1.0, 1.0, 1.0))
	wndChallengeItem:FindChild("LootIcon"):SetBGColor(CColor.new(1.0, 1.0, 1.0, 1.0))
	wndChallengeItem:FindChild("2xMarker"):SetText(String_GetWeaselString(Apollo.GetString("ChallengeReward_Multiplier"), ChallengesLib.GetLootBonusMultiplier(self.iRewardTier)))
	wndChallengeItem:FindChild("2xMarker"):SetTextColor(kcrDoubleMarkerOff)
	self.tValidWindows[idx] = wndChallengeItem
	wndChallengeItem:FindChild("LootIconBlocker"):SetBGColor(CColor.new(0, 0, 0, 0))
	wndChallengeItem:FindChild("LootIconBlocker"):SetData(true)
	wndChallengeItem:FindChild("LootIconBlocker"):Enable(true)

	wndChallengeItem:FindChild("ChallengeItemBtn"):Enable(true)
	wndChallengeItem:FindChild("2xMarker"):Show(true)

	wndChallengeItem:SetData(idx)
end

-----------------------------------------------------------------------------------------------
-- Start Btn and Spinning
-----------------------------------------------------------------------------------------------
function ChallengeRewardPanel:OnChallengeItemBtn(wndHandler, wndControl, eMouseButton)
	if eMouseButton == GameLib.CodeEnumInputMouse.Right then -- Right click should always be safe, instead of only safe on certain buttons
		if wndHandler:GetData() then -- Can be nil, E.G. XP has no item data
			Event_FireGenericEvent("GenericEvent_ContextMenuItem", wndHandler:GetData())
		end
		return
	end

	self.bInRandomizer = true
	for idx = 1, #self.tItems do
		if not self.tItems[idx]:FindChild("ChallengeItemBtn"):IsChecked() then
			self.tItems[idx]:FindChild("ChallengeItemBtn"):Enable(false)
			self.tItems[idx]:FindChild("LootIconBlocker"):Enable(false)
			self.tItems[idx]:FindChild("2xMarker"):SetTextColor(CColor.new(0, 0, 0, .25))
		else
			self.tItems[idx]:FindChild("ChallengeItemBtn"):Enable(false)
			self.tItems[idx]:FindChi